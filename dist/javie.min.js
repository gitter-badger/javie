(function(){var e,t,n;if(t=this,n=t._,n||"undefined"==typeof require||null===require||(n=require("underscore")),!n)throw new Error("underscore.js is missing");
e=function(){function e(){}var r;return r=function(e){return Array.prototype.slice.call(e)},e.prototype.config={},e.prototype.environment="production",e.prototype.instances={},e.prototype.detectEnvironment=function(e){return n.isFunction(e)===!0&&(e=e.apply(t)),this.environment=e
},e.prototype.env=function(){return this.environment},e.prototype.get=function(e,t){return"undefined"!=typeof this.config[e]?this.config[e]:null!=t?t:t=null
},e.prototype.put=function(e,t){var r;return r=e,n.isObject(r)||(r={},r[e]=t),this.config=n.defaults(r,this.config)},e.prototype.bind=function(e,t){return this.instances[e]=t
},e.prototype.make=function(e){var o,i;return i=r(arguments),e=i.shift(),o=this.resolve(e),n.isFunction(o)?o.apply(t,i):o},e.prototype.resolve=function(e){var t;
return t=this.instances[e],"undefined"===t&&(t=null),t},e.prototype.when=function(e,t){var r;return null!=this.ENV&&(r=this.ENV),null!=this.environment&&(r=this.environment),r===e||n.isNull(e)?this.run(t):void 0
},e.prototype.run=function(e){return n.isFunction(e)?e.call(this):void 0},e}(),t.Javie=new e}).call(this),function(){var e,t,n,r,o,i;if(n=null,r={},o="undefined"!=typeof exports&&null!==exports?exports:this,i=o._,i||"undefined"==typeof require||null===require||(i=require("underscore")),!i)throw new Error("underscore.js is missing");
e=function(){function e(){}return e.prototype.clone=function(e){var t;return t={to:function(t){return r[t]=i.clone(r[e]),!0}}},e.prototype.listen=function(e,t){var n;
if(i.isFunction(t)===!1)throw new Error("Callback is not a function");return n={id:e,cb:t},null==r[e]&&(r[e]=[]),r[e].push(t),n},e.prototype.listener=function(e,t){return this.listen(e,t)
},e.prototype.fire=function(e,t){var n,o,u;if(n=this,o=[],null==e)throw new Error("Event ID ["+e+"] is not available");return null==r[e]?null:(u=function(e){return o.push(e.apply(n,t||[]))
},i.each(r[e],u),o)},e.prototype.first=function(e,t){var n,o,u,s;if(o=this,u=[],null==e)throw new Error("Event ID ["+e+"] is not available");return null==r[e]?null:(n=r[e].slice(0,1),s=function(e){return u.push(e.apply(o,t||[]))
},i.each(n,s),u[0])},e.prototype.until=function(e,t){var n,o,u;if(n=this,o=null,null==e)throw new Error("Event ID ["+e+"] is not available");return null==r[e]?null:(u=function(e){return null==o?o.push(e.apply(n,t||[])):void 0
},i.each(r[e],u),o)},e.prototype.flush=function(e){return i.isUndefined(r[e])||(r[e]=null),!0},e.prototype.forget=function(e){var t,n,o,u;if(u=this,n=e.id,t=e.cb,!i.isString(n))throw new Error("Event ID ["+n+"] is not provided");
if(!i.isFunction(t))throw new Error("Callback is not a function");if(null==r[n])throw new Error("Event ID ["+n+"] is not available");return o=function(e,o){return e===t?r[n].splice(o,1):void 0
},i.each(r[n],o),!0},e}(),t=function(){function t(){return t.make()}return t.make=function(){return null!=n?n:n=new e},t}(),"undefined"!=typeof exports&&null!==exports?("undefined"!=typeof module&&null!==module&&module.exports&&(module.exports=t),exports.EventDispatcher=t):(null==o.Javie&&(o.Javie={}),o.Javie.Events=t,o.Javie.EventDispatcher=t)
}.call(this),function(){var e,t,n,r,o,i,u,s,l;l="undefined"!=typeof exports&&null!==exports?exports:this,u=null,o=!1,i={ERROR:"error",WARNING:"warning",INFO:"info",DEBUG:"debug",LOG:"log"},n=function(e){return Array.prototype.slice.call(e)
},r=function(e,t){return o?s(e,t):!1},s=function(e,t){var n;switch(n=console,e){case"info":return n.info(t),!0;case"debug"&&null!=n.debug:return n.debug(t),!0;
case"warning":return n.warn(t),!0;case"error"&&null!=n.error:return n.error(t),!0;case"log":return n.log(t),!0;default:return n.log("["+e.toUpperCase()+"]",t),!0
}},e=function(){function e(){}return e.prototype.logs=[],e.prototype.dispatch=function(e,t){var n;return n=r(e,t),t.unshift(e),this.logs.push(t),n},e.prototype.info=function(){return this.dispatch(i.INFO,n(arguments))
},e.prototype.debug=function(){return this.dispatch(i.DEBUG,n(arguments))},e.prototype.warning=function(){return this.dispatch(i.WARNING,n(arguments))},e.prototype.log=function(){return this.dispatch(i.LOG,n(arguments))
},e.prototype.post=function(e,t){return this.dispatch(e,[t])},e}(),t=function(){function t(){return t.make()}return t.make=function(){return null!=u?u:u=new e
},t.enable=function(){return o=!0},t.disable=function(){return o=!1},t.status=function(){return o},t}(),"undefined"!=typeof exports&&null!==exports?("undefined"!=typeof module&&null!==module&&module.exports&&(module.exports=t),l.Logger=t):(null==l.Javie&&(l.Javie={}),l.Javie.Logger=t)
}.call(this),function(){var e,t,n,r,o;r={},n=!1,o="undefined"!=typeof exports&&null!==exports?exports:this,e=function(){function e(){this.logs=[],this.pair={},this.started=t(!0)
}var t,r;return r=function(e,n,r){return null==e&&(e=""),null==n&&(n=""),null==r&&(r=t(!0)),{id:e,type:n,start:r,end:null,total:null,message:""}},t=function(e){var t,n,r;
return r=(new Date).getTime(),t=parseInt(r/1e3,10),n=""+(r-1e3*t)/1e3+" sec",e===!0?t:n},e.prototype.logs=null,e.prototype.pair=null,e.prototype.started=null,e.prototype.time=function(e,t){var o,i;
return null==e&&(e=this.logs.length),n===!1?null:(i=r("time",e),i.message=t.toString(),o=this.pair["time"+e],"undefined"!=typeof o?this.logs[o]=i:(this.logs.push(i),this.pair["time"+e]=this.logs.length-1),console.time(e),e)
},e.prototype.timeEnd=function(e,o){var i,u,s,l,p;return null==e&&(e=this.logs.length),n===!1?null:(u=this.pair["time"+e],"undefined"!=typeof u?(console.timeEnd(e),s=this.logs[u]):(s=r("time",e,this.started),"undefined"!=typeof o&&(s.message=o),this.logs.push(s),u=this.logs.length-1),i=s.end=t(!0),l=s.start,p=i-l,s.total=p,this.logs[u]=s,p)
},e.prototype.trace=function(){return n&&console.trace(),!0},e.prototype.output=function(e){var t,r,o,i,u;if(e===!0&&(n=!0),n===!1)return!1;for(u=this.logs,o=0,i=u.length;i>o;o++)t=u[o],"time"===t.type?(r=Math.floor(1e3*t.total),console.log("%s: %s - %dms",t.id,t.message,r)):console.log(t.id,t.message);
return!0},e}(),t=function(){function t(e){return t.make(e)}return t.make=function(t){return null==t&&""===t&&(t="default"),null!=r[t]?r[t]:r[t]=new e},t.enable=function(){return n=!0
},t.disable=function(){return n=!1},t.status=function(){return n},t}(),"undefined"!=typeof exports&&null!==exports?("undefined"!=typeof module&&null!==module&&module.exports&&(module.exports=t),exports.Profiler=t):(null==o.Javie&&(o.Javie={}),o.Javie.Profiler=t)
}.call(this),function(){var e,t,n,r,o,i,u;if(i="undefined"!=typeof exports&&null!==exports?exports:this,o={},r=null,"undefined"==typeof i.Javie)throw new Error("Javie is missing");
if("undefined"==typeof i.Javie.EventDispatcher)throw new Error("Javie.EventDispatcher is missing");if(r=i.Javie.EventDispatcher.make(),u=i._,u||"undefined"==typeof require||null===require||(u=require("underscore")),!u)throw new Error("underscore.js is missing");
if(n=i.$,"undefined"==typeof n||null===n)throw new Error("Required jQuery or Zepto object is missing");e=function(){function e(){}var t;return t=function(e){var t;
if(u.isString(e)===!0)try{e=n.parseJSON(e)}catch(r){t=r}return e},e.prototype.executed=!1,e.prototype.response=null,e.prototype.config={name:"",type:"GET",uri:"",query:"",data:"",dataType:"json",id:"",object:null},e.prototype.get=function(e,t){return"undefined"!=typeof this.config[e]?this.config[e]:null!=t?t:t=null
},e.prototype.put=function(e,t){var n;return n=e,u.isObject(e)||(n={},n[e]=t),this.config=u.defaults(n,this.config)},e.prototype.to=function(e,t,r){var o,s,l,p,f,c;
if(this.put({dataType:null!=r?r:r="json"}),l=["POST","GET","PUT","DELETE"],u.isUndefined(e))throw new Error("Missing required url parameter");return null==t&&(t=i.document),this.put({object:t}),p=e.split(" "),1===p.length?c=p[0]:(-1!==u.indexOf(l,p[0])&&(f=p[0]),c=p[1],"GET"!==f&&(s=c.split("?"),s.length>1&&(e=s[0],this.put({query:s[1]}))),c=c.replace(":baseUrl",this.get("baseUrl","")),this.put({type:f,uri:c})),o=n(this.get("object")).attr("id"),"undefined"!=typeof o&&this.put({id:"#"+o}),this
},e.prototype.execute=function(e){var o,i,s;return o=this,i=this.get("name"),u.isObject(e)||(e=""+n(this.get("object")).serialize()+"&"+this.get("query"),"?&"===e&&(e="")),this.executed=!0,r.fire("Request.beforeSend",[this]),r.fire("Request.beforeSend: "+i,[this]),this.config.beforeSend(this),s={type:this.get("type"),dataType:this.get("dataType"),url:this.get("uri"),data:e,complete:function(n){var s;
return e=t(n.responseText),s=n.status,o.response=n,!u.isUndefined(e)&&e.hasOwnProperty("errors")&&(r.fire("Request.onError",[e.errors,s,o]),r.fire("Request.onError: "+i,[e.errors,s,o]),o.config.onError(e.errors,s,o),e.errors=null),r.fire("Request.onComplete",[e,s,o]),r.fire("Request.onComplete: "+i,[e,s,o]),o.config.onComplete(e,s,o),!0
}},n.ajax(s),this},e}(),t=function(){function t(e){return t.make(e)}var n;return n=function(n){var i,s,l,p;return p=null,u.isUndefined(o[n])?(p=new e,p.config=u.defaults(p.config,t.config),p.put({name:n}),o[n]=p):(l=o[n],l.executed===!0&&(s=u.uniqueId(""+n+"_"),i=new e,r.clone("Request.onError: "+n).to("Request.onError: "+s),r.clone("Request.onComplete: "+n).to("Request.onComplete: "+s),r.clone("Request.beforeSend: "+n).to("Request.beforeSend: "+s),i.put(l.config),p=i),p=l),p
},t.make=function(e){return u.isString(e)||(e="default"),n(e)},t.config={baseUrl:null,onError:function(){},beforeSend:function(){},onComplete:function(){}},t.get=function(e,t){return null==t&&(t=null),u.isUndefined(this.config[e])?t:this.config[e]
},t.put=function(e,t){var n;return n=e,u.isObject(e)||(n={},n[e]=t),this.config=u.defaults(n,this.config)},t}(),"undefined"!=typeof exports&&null!==exports?("undefined"!=typeof module&&null!==module&&module.exports&&(module.exports=t),i.Request=t):i.Javie.Request=t
}.call(this),function(){var e,t;t=this,e=t.Javie,e.bind("underscore",function(){return t._}),e.bind("event",function(){return new e.EventDispatcher}),e.bind("profiler",function(t){return new e.Profiler(t)
}),e.bind("log",function(){return new e.Logger}),e.bind("request",function(t){return new e.Request(t)})}.call(this);